{"title":"Update Method for Action Visibility","steps":[{"filePath":"C:/Users/milan/OneDrive/Desktop/Zajecar/JB-plugin/src/main/java/com/hackathon/actions/ClearTourSelectionsAction.java","lineNum":15,"codeSnippet":"public class ClearTourSelectionsAction extends AnAction {\n    @Override\n    public @NotNull ActionUpdateThread getActionUpdateThread() {\n        return ActionUpdateThread.BGT;\n    }\n\n    @Override\n    public void update(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        boolean visible \u003d false;\n        if (project !\u003d null) {\n            SelectionModeService sel \u003d project.getService(SelectionModeService.class);\n            TourStateService state \u003d project.getService(TourStateService.class);\n            visible \u003d sel !\u003d null \u0026\u0026 sel.isEnabled() \u0026\u0026 state !\u003d null \u0026\u0026 !state.getSteps().isEmpty();\n        }\n        e.getPresentation().setEnabledAndVisible(visible);\n    }\n\n    @Override\n    public void actionPerformed(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        if (project \u003d\u003d null) return;\n        TourStateService state \u003d project.getService(TourStateService.class);\n        state.clear();\n        SelectionModeService sel \u003d project.getService(SelectionModeService.class);\n        if (sel !\u003d null) {\n            sel.setEnabled(false);\n        }\n    }\n}","authorNote":"/**\n * Clears all current tour selections while in selection mode.\n */","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis class defines an action that clears all current tour selections when in selection mode. It checks if the selection mode is enabled and if there are any steps in the tour state before executing the clear action. Example usage: Trigger the action to clear selections when the user opts to reset their current tour.\u003c/p\u003e","endLine":44,"symbolName":"com.hackathon.actions.ClearTourSelectionsAction","type":"class"},{"filePath":"C:/Users/milan/OneDrive/Desktop/Zajecar/JB-plugin/src/main/java/com/hackathon/actions/ClearTourSelectionsAction.java","lineNum":17,"codeSnippet":"    public @NotNull ActionUpdateThread getActionUpdateThread() {\n        return ActionUpdateThread.BGT;\n    }","authorNote":"","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis method retrieves the ActionUpdateThread instance, specifically returning the background thread type. It ensures that the returned value is not null, indicating that the method will always provide a valid ActionUpdateThread. Example call: getActionUpdateThread().\u003c/p\u003e","endLine":19,"symbolName":"com.hackathon.actions.ClearTourSelectionsAction#getActionUpdateThread","type":"method"},{"filePath":"C:/Users/milan/OneDrive/Desktop/Zajecar/JB-plugin/src/main/java/com/hackathon/actions/ClearTourSelectionsAction.java","lineNum":22,"codeSnippet":"    public void update(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        boolean visible \u003d false;\n        if (project !\u003d null) {\n            SelectionModeService sel \u003d project.getService(SelectionModeService.class);\n            TourStateService state \u003d project.getService(TourStateService.class);\n            visible \u003d sel !\u003d null \u0026\u0026 sel.isEnabled() \u0026\u0026 state !\u003d null \u0026\u0026 !state.getSteps().isEmpty();\n        }\n        e.getPresentation().setEnabledAndVisible(visible);\n    }","authorNote":"","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis method updates the visibility and enabled state of an action based on the current project and its services. It checks if the project is not null, retrieves the SelectionModeService and TourStateService, and determines if the action should be visible based on the state of these services. Example call: update(anActionEventInstance).\u003c/p\u003e","endLine":31,"symbolName":"com.hackathon.actions.ClearTourSelectionsAction#update","type":"method"},{"filePath":"C:/Users/milan/OneDrive/Desktop/Zajecar/JB-plugin/src/main/java/com/hackathon/actions/ClearTourSelectionsAction.java","lineNum":34,"codeSnippet":"    public void actionPerformed(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        if (project \u003d\u003d null) return;\n        TourStateService state \u003d project.getService(TourStateService.class);\n        state.clear();\n        SelectionModeService sel \u003d project.getService(SelectionModeService.class);\n        if (sel !\u003d null) {\n            sel.setEnabled(false);\n        }\n    }","authorNote":"","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis method handles an action event by retrieving the current project and clearing the state of the TourStateService. It also disables the SelectionModeService if it is available. Example call: actionPerformed(event).\u003c/p\u003e","endLine":43,"symbolName":"com.hackathon.actions.ClearTourSelectionsAction#actionPerformed","type":"method"},{"filePath":"C:/Users/milan/OneDrive/Desktop/Zajecar/JB-plugin/src/main/java/com/hackathon/actions/EndTourAction.java","lineNum":22,"codeSnippet":"    public void update(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        boolean visible \u003d false;\n        if (project !\u003d null) {\n            // Hide if selection mode is active\n            SelectionModeService sel \u003d project.getService(SelectionModeService.class);\n            if (sel !\u003d null \u0026\u0026 sel.isEnabled()) {\n                e.getPresentation().setEnabledAndVisible(false);\n                return;\n            }\n\n            TourStateService state \u003d project.getService(TourStateService.class);\n            // Visible if tour has steps (is loaded)\n            visible \u003d state !\u003d null \u0026\u0026 !state.getSteps().isEmpty();\n        }\n        e.getPresentation().setEnabledAndVisible(visible);\n    }","authorNote":"","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis method updates the visibility and enabled state of an action based on the current project context. It checks if the project is not null and whether a selection mode is active. If selection mode is enabled, the action is hidden. Otherwise, it checks if the tour has steps loaded to determine if the action should be visible. Example call: update(event).\u003c/p\u003e","endLine":38,"symbolName":"com.hackathon.actions.EndTourAction#update","type":"method"}]}