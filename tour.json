{"title":"ok","steps":[{"filePath":"C:/Users/bajic/source/repos/JB-plugin/src/main/java/com/hackathon/actions/GenerateJavadocForTourAction.java","lineNum":30,"codeSnippet":"    public void actionPerformed(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        if (project \u003d\u003d null) return;\n        TourStateService state \u003d project.getService(TourStateService.class);\n        if (state.getSteps().isEmpty()) {\n            Messages.showInfoMessage(project, \"No tour loaded or steps present.\", \"Generate Javadoc\");\n            return;\n        }\n\n        int[] updated \u003d {0};\n        WriteCommandAction.runWriteCommandAction(project, \"Generate Javadoc for Tour\", null, () -\u003e {\n            for (TourStep step : state.getSteps()) {\n                VirtualFile vFile \u003d LocalFileSystem.getInstance().findFileByPath(step.filePath());\n                if (vFile \u003d\u003d null) continue;\n                PsiFile psiFile \u003d PsiManager.getInstance(project).findFile(vFile);\n                if (!(psiFile instanceof PsiJavaFile)) continue;\n\n                int line0 \u003d Math.max(0, step.lineNum() - 1);\n                Document document \u003d PsiDocumentManager.getInstance(project).getDocument(psiFile);\n                if (document \u003d\u003d null || line0 \u003e\u003d document.getLineCount()) continue;\n                int offset \u003d document.getLineStartOffset(line0);\n                PsiElement el \u003d psiFile.findElementAt(offset);\n                PsiElement symbol \u003d findEnclosing(el);\n                if (!(symbol instanceof PsiDocCommentOwner owner)) continue;\n\n                String acwBlock \u003d buildAcwBlockFromHtml(step);\n                if (acwBlock \u003d\u003d null) continue;\n                applyOrUpdateJavadoc(project, owner, acwBlock);\n                updated[0]++;\n            }\n        });\n\n        Messages.showInfoMessage(project, \"Updated Javadoc for \" + updated[0] + \" element(s).\", \"Generate Javadoc\");\n    }","authorNote":"","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis method handles the action of generating Javadoc comments for a series of steps in a tour within a project. It checks if there are any steps to process, retrieves the corresponding files, and updates their Javadoc comments based on the provided tour steps. If no steps are found or if the files are not valid Java files, it displays an appropriate message. After processing, it informs the user of the number of elements updated. Example call: actionPerformed(event).\u003c/p\u003e","endLine":63,"symbolName":"com.hackathon.actions.GenerateJavadocForTourAction#actionPerformed","type":"method"},{"filePath":"C:/Users/bajic/source/repos/JB-plugin/src/main/java/com/hackathon/actions/ExitSelectionModeAction.java","lineNum":17,"codeSnippet":"    public void update(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        boolean visible \u003d false;\n        if (project !\u003d null) {\n            SelectionModeService sel \u003d project.getService(SelectionModeService.class);\n            visible \u003d sel !\u003d null \u0026\u0026 sel.isEnabled();\n        }\n        e.getPresentation().setEnabledAndVisible(visible);\n    }","authorNote":"","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis method updates the visibility and enabled state of an action based on the current project and the selection mode service. It checks if the project is not null and retrieves the selection mode service to determine if it is enabled. The action\u0027s presentation is then updated accordingly. Example call: update(anActionEventInstance).\u003c/p\u003e","endLine":25,"symbolName":"com.hackathon.actions.ExitSelectionModeAction#update","type":"method"},{"filePath":"C:/Users/bajic/source/repos/JB-plugin/src/main/java/com/hackathon/actions/ExitSelectionModeAction.java","lineNum":28,"codeSnippet":"    public void actionPerformed(@NotNull AnActionEvent e) {\n        Project project \u003d e.getProject();\n        if (project \u003d\u003d null) return;\n        SelectionModeService sel \u003d project.getService(SelectionModeService.class);\n        if (sel !\u003d null) {\n            sel.setEnabled(false);\n        }\n    }","authorNote":"","aiExplanation":"\u003ch3\u003eSummary\u003c/h3\u003e\u003cp\u003eThis method handles an action event in a project context. It retrieves the current project from the event, checks if it is not null, and then accesses a service related to selection mode. If the service is available, it disables the selection mode. Example call: actionPerformed(event).\u003c/p\u003e","endLine":35,"symbolName":"com.hackathon.actions.ExitSelectionModeAction#actionPerformed","type":"method"}]}